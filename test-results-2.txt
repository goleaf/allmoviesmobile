00:00 +0: loading /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/repository/tmdb_repository_test.dart
00:00 +0: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/repository/tmdb_repository_test.dart: TmdbRepository fetchTrendingMovies maps results
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│ #0   CacheService.get (package:allmovies_mobile/data/services/cache_service.dart:28:15)
│ #1   TmdbRepository._getCached (package:allmovies_mobile/data/tmdb_repository.dart:90:43)
├┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
│ 🐛 Cache miss: trending::movie::day::1
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│ #0   CacheService.set (package:allmovies_mobile/data/services/cache_service.dart:52:13)
│ #1   TmdbRepository._setCached (package:allmovies_mobile/data/tmdb_repository.dart:93:13)
├┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
│ 🐛 Cache set: trending::movie::day::1 (TTL: 1800s)
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
00:00 +1: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/repository/tmdb_repository_test.dart: TmdbRepository caching returns same instance without forceRefresh
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│ #0   CacheService.get (package:allmovies_mobile/data/services/cache_service.dart:28:15)
│ #1   TmdbRepository._getCached (package:allmovies_mobile/data/tmdb_repository.dart:90:43)
├┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
│ 🐛 Cache miss: discover_movie::page=1&sort_by=popularity.desc
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│ #0   CacheService.set (package:allmovies_mobile/data/services/cache_service.dart:52:13)
│ #1   TmdbRepository._setCached (package:allmovies_mobile/data/tmdb_repository.dart:93:13)
├┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
│ 🐛 Cache set: discover_movie::page=1&sort_by=popularity.desc (TTL: 300s)
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│ #0   CacheService.get (package:allmovies_mobile/data/services/cache_service.dart:38:13)
│ #1   TmdbRepository._getCached (package:allmovies_mobile/data/tmdb_repository.dart:90:43)
├┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
│ 🐛 Cache hit: discover_movie::page=1&sort_by=popularity.desc
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
00:00 +2: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/repository/tmdb_repository_test.dart: TmdbRepository non-200 response throws TmdbException
00:00 +2 -1: loading /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/lists_provider_test.dart [E]
  Failed to load "/Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/lists_provider_test.dart":
  Compilation failed for testPath=/Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/lists_provider_test.dart: lib/data/models/user_list.dart:406:22: Error: Undefined name 'ownerId'.
              addedBy: ownerId,
                       ^^^^^^^
  .
00:00 +2 -1: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/repository/tmdb_repository_test.dart: TmdbRepository non-200 response throws TmdbException
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│ #0   CacheService.get (package:allmovies_mobile/data/services/cache_service.dart:28:15)
│ #1   TmdbRepository._getCached (package:allmovies_mobile/data/tmdb_repository.dart:90:43)
├┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
│ 🐛 Cache miss: trending::movie::day::1
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
00:00 +3 -2: loading /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/repository/tmdb_repository_test.dart [E]
  Error: The Dart compiler exited unexpectedly.
  package:flutter_tools/src/base/common.dart 34:3  throwToolExit
  package:flutter_tools/src/compile.dart 910:11    DefaultResidentCompiler._compile.<fn>
  dart:async/zone.dart 1538:47                     _rootRunUnary
  dart:async/zone.dart 1429:19                     _CustomZone.runUnary
  dart:async/future_impl.dart 948:45               Future._propagateToListeners.handleValueCallback
  dart:async/future_impl.dart 977:13               Future._propagateToListeners
  dart:async/future_impl.dart 862:9                Future._propagateToListeners
  dart:async/future_impl.dart 720:5                Future._completeWithValue
  dart:async/future_impl.dart 804:7                Future._asyncCompleteWithValue.<fn>
  dart:async/zone.dart 1525:13                     _rootRun
  dart:async/zone.dart 1422:19                     _CustomZone.run
  dart:async/zone.dart 1321:7                      _CustomZone.runGuarded
  dart:async/zone.dart 1362:23                     _CustomZone.bindCallbackGuarded.<fn>
  dart:async/schedule_microtask.dart 40:35         _microtaskLoop
  dart:async/schedule_microtask.dart 49:5          _startMicrotaskLoop
  dart:isolate-patch/isolate_patch.dart 127:13     _runPendingImmediateCallback
  dart:isolate-patch/isolate_patch.dart 194:5      _RawReceivePort._handleMessage
  
00:00 +3 -2: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/movies_provider_test.dart: MoviesProvider loads sections and reacts to region + window
00:00 +4 -2: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/watch_region_provider_test.dart: WatchRegionProvider initializes from prefs and updates
00:01 +5 -2: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/watch_region_provider_test.dart: WatchRegionProvider rejects unknown codes and falls back to US
00:01 +5 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/watch_region_provider_test.dart: WatchRegionProvider rejects unknown codes and falls back to US [E]
  Expected: 'US'
    Actual: 'XX'
     Which: is different.
            Expected: US
              Actual: XX
                      ^
             Differ at offset 0
  
  package:matcher                                      expect
  package:flutter_test/src/widget_tester.dart 473:18   expect
  test/providers/watch_region_provider_test.dart 23:5  main.<fn>
  
00:04 +5 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/genres_provider_test.dart: GenresProvider loads and maps names
00:04 +6 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/series_provider_test.dart: SeriesProvider initial refresh populates series sections
00:04 +7 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/series_provider_test.dart: SeriesProvider applyNetworkFilter loads network shows into popular section
00:04 +8 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/trending_titles_provider_test.dart: TrendingTitlesProvider loads and refreshes
00:05 +9 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/people_provider_test.dart: PeopleProvider loads sections
00:05 +10 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/theme_provider_test.dart: ThemeProvider persists and exposes theme
00:06 +11 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/favorites_provider_test.dart: FavoritesProvider Tests should start with empty favorites
00:06 +12 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/favorites_provider_test.dart: FavoritesProvider Tests should add movie to favorites
00:06 +13 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/favorites_provider_test.dart: FavoritesProvider Tests should remove movie from favorites
00:06 +14 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/favorites_provider_test.dart: FavoritesProvider Tests should toggle favorite status
00:06 +15 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/favorites_provider_test.dart: FavoritesProvider Tests should handle multiple favorites
00:06 +16 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/favorites_provider_test.dart: FavoritesProvider Tests should not add duplicate favorites
00:06 +17 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/favorites_provider_test.dart: FavoritesProvider Tests should clear all favorites
00:06 +18 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/favorites_provider_test.dart: FavoritesProvider Tests should persist favorites
00:06 +19 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/favorites_provider_test.dart: FavoritesProvider Tests should not throw when removing non-existent favorite
00:06 +20 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/search_provider_test.dart: SearchProvider search populates results and history
00:07 +21 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/recommendations_provider_test.dart: RecommendationsProvider when no favorites, returns popular deterministically (deduped/sorted/limited)
00:07 +22 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/recommendations_provider_test.dart: RecommendationsProvider when favorites exist, filters favorites and returns deterministic list
00:07 +23 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/watchlist_provider_test.dart: WatchlistProvider toggles and persists
00:07 +24 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/companies_provider_test.dart: CompaniesProvider searchCompanies updates state
00:07 +25 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/providers/locale_provider_test.dart: LocaleProvider get/set
00:08 +26 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/local_storage_service_test.dart: LocalStorageService favorites add/remove and retrieval
00:08 +27 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/local_storage_service_test.dart: LocalStorageService watchlist set/get
00:08 +28 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/local_storage_service_test.dart: LocalStorageService search history append/clear
00:08 +29 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/local_storage_service_test.dart: LocalStorageService recently viewed add and trim
00:08 +30 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│ #0   CacheService.set (package:allmovies_mobile/data/services/cache_service.dart:52:13)
│ #1   main.<anonymous closure>.<anonymous closure> (file:///Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart:11:13)
├┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
│ 🐛 Cache set: k (TTL: 1s)
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│ #0   CacheService.get (package:allmovies_mobile/data/services/cache_service.dart:38:13)
│ #1   main.<anonymous closure>.<anonymous closure> (file:///Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart:12:20)
├┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
│ 🐛 Cache hit: k
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
00:09 +31 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:09 +32 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:09 +33 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:09 +34 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:09 +35 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:09 +36 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:09 +37 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:09 +38 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:10 +39 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:10 +40 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:10 +41 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:10 +42 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:10 +43 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:10 +44 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:10 +45 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:10 +46 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:10 +47 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:10 +48 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:10 +48 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/error_handler_test.dart: ErrorHandler Tests should handle safe operation failure
ERROR: Operation failed - Exception: Test error
00:10 +49 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
00:10 +49 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/error_handler_test.dart: ErrorHandler Tests should call onError callback on failure
ERROR: Operation failed - Exception: Test
00:10 +50 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService in-memory TTL expires entries
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│ #0   CacheService.get (package:allmovies_mobile/data/services/cache_service.dart:33:15)
│ #1   main.<anonymous closure>.<anonymous closure> (file:///Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart:14:20)
├┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
│ 🐛 Cache expired: k
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
00:10 +51 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│ #0   CacheService.setPersistent (package:allmovies_mobile/data/services/cache_service.dart:187:13)
│ #1   <asynchronous suspension>
├┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
│ 🐛 Persistent cache set: pk (TTL: 1s)
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│ #0   CacheService.getPersistent (package:allmovies_mobile/data/services/cache_service.dart:221:15)
│ #1   main.<anonymous closure>.<anonymous closure> (file:///Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart:23:26)
├┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
│ 🐛 Persistent cache hit: pk
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
00:11 +52 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +53 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +54 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +55 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +56 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +57 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +58 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +59 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +60 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +61 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +62 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +63 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +64 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +65 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +66 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +67 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +68 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +69 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +70 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +71 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +72 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +73 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:11 +74 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:12 +75 -3: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:12 +75 -4: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:12 +75 -4: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/models/person_detail_mapping_test.dart: PersonDetail mapping PersonCredit helpers are robust [E]
  Expected: 'Sample'
    Actual: 'Untitled'
     Which: is different.
            Expected: Sample
              Actual: Untitled
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/models/person_detail_mapping_test.dart 54:7    main.<fn>.<fn>
  
00:12 +75 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
00:12 +75 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/models/person_detail_mapping_test.dart: PersonDetail mapping PersonTaggedMedia titleOrName prefers non-empty trimmed value [E]
  Expected: 'Name'
    Actual: <null>
     Which: not an <Instance of 'String'>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/models/person_detail_mapping_test.dart 65:7    main.<fn>.<fn>
  
00:12 +75 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/utils/cache_service_test.dart: CacheService persistent set/get honors TTL and cleanup
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│ #0   CacheService.getPersistent (package:allmovies_mobile/data/services/cache_service.dart:212:17)
│ #1   <asynchronous suspension>
├┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
│ 🐛 Persistent cache expired: pk
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
00:13 +76 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/silent_updater_test.dart: runIfDue does nothing when up-to-date
00:13 +77 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/silent_updater_test.dart: runIfDue triggers preload when stale
00:13 +78 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/services/static_catalog_service_test.dart: needsRefresh is true on first run
00:14 +79 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/services/static_catalog_service_test.dart: needsRefresh is false when recent and locales satisfied
00:14 +80 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/services/static_catalog_service_test.dart: needsRefresh is true when cache is outdated
00:14 +81 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/services/static_catalog_service_test.dart: needsRefresh is true when required locales are missing
00:14 +82 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/services/static_catalog_service_test.dart: isFirstRun returns true when no meta, false when meta exists
00:14 +83 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/services/static_catalog_read_test.dart: StaticCatalogReadService UI helpers genreNameMap returns expected mapping
00:14 +84 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/services/static_catalog_read_test.dart: StaticCatalogReadService UI helpers watchProvidersUi joins base and translation and sorts
00:14 +85 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/services/static_catalog_integration_test.dart: preloadAll stores catalogs to Isar
00:14 +86 -5: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/fullscreen_modal_test.dart: pushFullscreenModal shows close button and pops
00:15 +86 -6: loading /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/lists_screen_test.dart [E]
  Failed to load "/Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/lists_screen_test.dart":
  Compilation failed for testPath=/Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/lists_screen_test.dart: test/widgets/lists_screen_test.dart:41:21: Error: Required named parameter 'prefs' must be provided.
        child: TestApp(child: child),
                      ^
  test/test_support/test_wrapper.dart:20:9: Context: Found this candidate, but the arguments don't match.
    const TestApp({
          ^^^^^^^
  test/test_support/test_wrapper.dart:35:9: Error: 'ChangeNotifierProvider' is imported from both 'package:flutter_riverpod/src/change_notifier_provider.dart' and 'package:provider/src/change_notifier_provider.dart'.
          ChangeNotifierProvider<LocaleProvider>(
          ^^^^^^^^^^^^^^^^^^^^^^
  test/test_support/test_wrapper.dart:38:9: Error: 'ChangeNotifierProvider' is imported from both 'package:flutter_riverpod/src/change_notifier_provider.dart' and 'package:provider/src/change_notifier_provider.dart'.
          ChangeNotifierProvider<ThemeProvider>(
          ^^^^^^^^^^^^^^^^^^^^^^
  lib/data/models/user_list.dart:406:22: Error: Undefined name 'ownerId'.
              addedBy: ownerId,
                       ^^^^^^^
  .
00:20 +87 -6: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/search_screen_typing_test.dart: SearchScreen typing and submit triggers provider search
00:23 +88 -6: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/series_screen_test.dart: SeriesScreen builds with tabs
00:26 +89 -6: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/movies_filters_screen_test.dart: MoviesFiltersScreen renders and is interactable
00:28 +90 -6: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/movies_filters_screen_test.dart: MoviesFiltersScreen renders and is interactable
00:28 +91 -6: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/movies_screen_interactions_test.dart: MoviesScreen filter button opens MoviesFiltersScreen and Apply closes it
00:28 +92 -6: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/movies_screen_interactions_test.dart: MoviesScreen filter button opens MoviesFiltersScreen and Apply closes it
00:29 +93 -6: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/movies_screen_interactions_test.dart: MoviesScreen filter button opens MoviesFiltersScreen and Apply closes it
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following assertion was thrown running a test:
'package:flutter/src/material/tab_controller.dart': Failed assertion: line 202 pos 12: 'value >= 0
&& (value < length || length == 0)': is not true.

Either the assertion indicates an error in the framework itself, or we should provide substantially
more information in this error message to help you determine and fix the underlying cause.
In either case, please report this assertion by filing a bug on GitHub:
  https://github.com/flutter/flutter/issues/new?template=02_bug.yml

When the exception was thrown, this was the stack:
#2      TabController._changeIndex (package:flutter/src/material/tab_controller.dart:202:12)
#3      TabController.animateTo (package:flutter/src/material/tab_controller.dart:266:5)
#4      _extension#0._openFilters.<anonymous closure> (package:allmovies_mobile/presentation/screens/movies/movies_screen.dart:215:19)
<asynchronous suspension>
(elided 2 frames from class _AssertionError)

The test description was:
  MoviesScreen filter button opens MoviesFiltersScreen and Apply closes it
════════════════════════════════════════════════════════════════════════════════════════════════════
00:30 +93 -7: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/app_navigation_shell_test.dart: Bottom navigation switches destinations
00:30 +93 -7: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/movies_screen_interactions_test.dart: MoviesScreen filter button opens MoviesFiltersScreen and Apply closes it [E]
  Test failed. See exception logs above.
  The test description was: MoviesScreen filter button opens MoviesFiltersScreen and Apply closes it
  
Warning: At least one test in this suite creates an HttpClient. When running a test suite that uses
TestWidgetsFlutterBinding, all HTTP requests will return status code 400, and no network request
will actually be made. Any test expecting a real network connection and status code will fail.
To test code that needs an HttpClient, provide your own HttpClient implementation to the code under
test, so that your test can consistently provide a testable response to the code under test.
00:31 +94 -7: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/app_navigation_shell_test.dart: Bottom navigation switches destinations
00:33 +95 -7: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/companies_screen_test.dart: CompaniesScreen builds with search field and empty state
00:33 +96 -7: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/series_filters_screen_test.dart: SeriesFiltersScreen returns Map<String,String> on apply
00:34 +97 -7: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/series_filters_screen_test.dart: SeriesFiltersScreen returns Map<String,String> on apply
00:34 +98 -7: /Users/andrejprus/Library/CloudStorage/Dropbox/projects/allmoviesmobile/test/widgets/settings_screen_test.dart: SettingsScreen toggles theme, locale, and region
00:35 +99 -7: Some tests failed.
